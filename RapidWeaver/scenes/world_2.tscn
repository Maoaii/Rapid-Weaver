[gd_scene load_steps=32 format=3 uid="uid://dya7qxd1tr3gq"]

[ext_resource type="PackedScene" uid="uid://druq273210d8b" path="res://scenes/sections/tile_map.tscn" id="1_04kq6"]
[ext_resource type="PackedScene" uid="uid://cqvnliqs7mvfe" path="res://scenes/sections/background.tscn" id="2_dr1mk"]
[ext_resource type="PackedScene" uid="uid://c8a3uhby50eog" path="res://scenes/menus/dust_particles.tscn" id="4_6h5e2"]
[ext_resource type="PackedScene" uid="uid://lmt4yjrdw8kk" path="res://scenes/player.tscn" id="5_7wutl"]
[ext_resource type="PackedScene" uid="uid://cydsd27rpksoo" path="res://scenes/sections/decorations.tscn" id="6_pgmhg"]
[ext_resource type="Script" path="res://scripts/menus/settings_area.gd" id="7_fkrux"]
[ext_resource type="PackedScene" uid="uid://fikthwf1ruin" path="res://scenes/section_line.tscn" id="7_grw8f"]
[ext_resource type="Script" path="res://scripts/menus/game_start_area.gd" id="7_xgp62"]
[ext_resource type="Script" path="res://scripts/menus/quit_area.gd" id="8_1losw"]
[ext_resource type="PackedScene" uid="uid://cbc5jyuaxunxf" path="res://scenes/death_area.tscn" id="10_5im2o"]
[ext_resource type="PackedScene" uid="uid://b5l843x4m6sg4" path="res://scenes/menus/settings_menu/settings.tscn" id="10_6vku2"]
[ext_resource type="PackedScene" uid="uid://kdubal300fkt" path="res://scenes/managers/score_manager.tscn" id="12_1t867"]
[ext_resource type="PackedScene" uid="uid://cnhg6812dokbu" path="res://scenes/managers/game_controller.tscn" id="13_mxqul"]
[ext_resource type="PackedScene" uid="uid://b0d6kta8yhr0b" path="res://scenes/sections/levels/section1.tscn" id="14_bp0m6"]
[ext_resource type="PackedScene" uid="uid://cjaivf8n4ryih" path="res://scenes/sections/levels/section2.tscn" id="15_kdhey"]
[ext_resource type="PackedScene" uid="uid://knp1mam5e562" path="res://scenes/sections/levels/section3.tscn" id="16_m2xuj"]
[ext_resource type="PackedScene" uid="uid://dth60ajlkx5i1" path="res://scenes/sections/levels/section4.tscn" id="17_4jwrd"]
[ext_resource type="PackedScene" uid="uid://bl2oc40fr2mag" path="res://scenes/sections/levels/section5.tscn" id="18_3pg6p"]
[ext_resource type="PackedScene" uid="uid://d2mbt6g0fg3oo" path="res://scenes/sections/levels/section6.tscn" id="19_1cbgp"]
[ext_resource type="PackedScene" uid="uid://scvobgbx8jgm" path="res://scenes/sections/levels/section7.tscn" id="20_ei2g1"]
[ext_resource type="PackedScene" uid="uid://caikanws4v5aq" path="res://scenes/sections/levels/section8.tscn" id="21_2odth"]
[ext_resource type="PackedScene" uid="uid://dbivxjyojhhfy" path="res://scenes/sections/levels/section9.tscn" id="22_x2cpa"]
[ext_resource type="PackedScene" uid="uid://dqm5clbjx71q" path="res://scenes/sections/levels/section10.tscn" id="23_w21sg"]
[ext_resource type="PackedScene" uid="uid://c5ug1hkicbgyy" path="res://scenes/sections/levels/section11.tscn" id="24_rkorq"]
[ext_resource type="PackedScene" uid="uid://dfmlrfr2clkxu" path="res://scenes/sections/levels/section12.tscn" id="25_l3ds6"]
[ext_resource type="PackedScene" uid="uid://da8vapsn1joqw" path="res://scenes/sections/levels/section13.tscn" id="26_2ycy3"]
[ext_resource type="PackedScene" uid="uid://b2h6sicmksnue" path="res://scenes/sections/levels/section14.tscn" id="27_krarm"]
[ext_resource type="PackedScene" uid="uid://pkyto6ksnufj" path="res://scenes/sections/levels/section15.tscn" id="28_yshjn"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_msvqj"]
size = Vector2(404, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gxrhv"]
size = Vector2(82, 18)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mcvy8"]
size = Vector2(50, 18)

[node name="World" type="Node2D"]
metadata/_edit_horizontal_guides_ = [120.0, 480.0]
metadata/_edit_vertical_guides_ = [160.0, 480.0]

[node name="TileMap" parent="." instance=ExtResource("1_04kq6")]
layer_0/tile_data = PackedInt32Array(1900569, 720896, 6, 1835033, 720896, 5, 1900568, 720896, 6, 1835032, 720896, 5, 1900567, 720896, 6, 1835031, 720896, 5, 1900566, 720896, 6, 1835030, 720896, 5, 1900565, 720896, 6, 1835029, 720896, 5, 1900564, 720896, 6, 1835028, 720896, 5, 1900563, 720896, 6, 1835027, 720896, 5, 1900562, 720896, 6, 1835026, 720896, 5, 1900561, 720896, 6, 1835025, 720896, 5, 1900560, 720896, 6, 1835024, 720896, 5, 1900559, 720896, 6, 1835023, 720896, 5, 1900558, 720896, 6, 1835022, 720896, 5, 1900571, 720896, 6, 1835035, 720896, 5, 1900570, 720896, 6, 1835034, 720896, 5, 1900557, 720896, 6, 1835021, 720896, 5, 1900556, 720896, 6, 1835020, 720896, 5, 1900573, 720896, 6, 1835037, 720896, 6, 1900572, 720896, 6, 1835036, 720896, 5, 1900555, 720896, 6, 1835019, 720896, 5, 1900554, 720896, 6, 1835018, 720896, 6, 1245210, 786432, 6, 1179674, 786432, 5, 1245209, 720896, 6, 1179673, 720896, 5, 1245208, 720896, 6, 1179672, 720896, 5, 1245207, 720896, 6, 1179671, 720896, 5, 1245206, 720896, 6, 1179670, 720896, 5, 1245205, 720896, 6, 1179669, 720896, 5, 1245204, 720896, 6, 1179668, 720896, 5, 1245203, 720896, 6, 1179667, 720896, 5, 1245202, 720896, 6, 1179666, 720896, 5, 1245201, 720896, 6, 1179665, 720896, 5, 1245200, 720896, 6, 1179664, 720896, 5, 1245199, 720896, 6, 1179663, 720896, 5, 1245198, 720896, 6, 1179662, 720896, 5, 1245197, 655360, 6, 1179661, 655360, 5, 1769482, 786432, 6, 1703946, 786432, 6, 1638410, 786432, 6, 1572874, 786432, 6, 1507338, 786432, 6, 1441802, 786432, 6, 1376266, 786432, 6, 1310730, 786432, 6, 1245194, 786432, 6, 1179658, 786432, 6, 1114122, 786432, 6, 1048586, 786432, 6, 983050, 786432, 6, 1900553, 655360, 6, 1835017, 655360, 6, 1769481, 655360, 6, 1703945, 655360, 6, 1638409, 655360, 6, 1572873, 655360, 6, 1507337, 655360, 6, 1441801, 655360, 6, 1376265, 655360, 6, 1310729, 655360, 6, 1245193, 655360, 6, 1179657, 655360, 6, 1114121, 655360, 6, 1048585, 655360, 6, 983049, 655360, 6, 1835038, 786432, 6, 1769502, 786432, 6, 1703966, 786432, 6, 1638430, 786432, 6, 1572894, 786432, 6, 1507358, 786432, 6, 1441822, 786432, 6, 1376286, 786432, 6, 1310750, 786432, 6, 1245214, 786432, 6, 1179678, 786432, 6, 1114142, 786432, 6, 1048606, 786432, 6, 983070, 786432, 6, 1769501, 655360, 6, 1703965, 655360, 6, 1638429, 655360, 6, 1572893, 655360, 6, 1507357, 655360, 6, 1441821, 655360, 6, 1376285, 655360, 6, 1310749, 655360, 6, 1245213, 655360, 6, 1179677, 655360, 6, 1114141, 655360, 6, 1048605, 655360, 6, 983069, 655360, 6, 1900574, 786432, 6, 917514, 720896, 6, 917513, 655360, 6, 917534, 786432, 6, 917533, 720896, 6, 1966110, 786432, 7, 1966109, 720896, 7, 1966108, 720896, 7, 1966107, 720896, 7, 1966106, 720896, 7, 1966105, 720896, 7, 1966104, 720896, 7, 1966103, 720896, 7, 1966102, 720896, 7, 1966101, 720896, 7, 1966100, 720896, 7, 1966099, 720896, 7, 1966098, 720896, 7, 1966097, 720896, 7, 1966096, 720896, 7, 1966095, 720896, 7, 1966094, 720896, 7, 1966093, 720896, 7, 1966092, 720896, 7, 1966091, 720896, 7, 1966090, 720896, 7, 1966089, 655360, 7, 1376282, 786432, 7, 1310746, 786432, 6, 1376281, 720896, 6, 1310745, 720896, 6, 1376280, 720896, 6, 1310744, 720896, 6, 1376279, 720896, 6, 1310743, 720896, 6, 1376278, 720896, 7, 1310742, 720896, 6, 1376277, 720896, 7, 1310741, 720896, 6, 1376276, 720896, 7, 1310740, 720896, 6, 1376275, 720896, 7, 1310739, 720896, 6, 1376274, 720896, 6, 1310738, 720896, 6, 1376273, 720896, 6, 1310737, 720896, 6, 1376272, 720896, 6, 1310736, 720896, 6, 1376271, 720896, 6, 1310735, 720896, 6, 1376270, 720896, 6, 1310734, 720896, 6, 1376269, 655360, 7, 1310733, 655360, 6, 1441809, 720896, 7, 1441808, 720896, 7, 1441807, 720896, 7, 1441806, 655360, 7, 1441817, 786432, 7, 1441816, 720896, 7, 1441815, 655360, 7, 917516, 786432, 7, 917515, 720896, 7, 851980, 786432, 5, 851979, 720896, 5, 851978, 720896, 5, 851977, 655360, 5, 851998, 786432, 5, 851997, 720896, 5, 917532, 720896, 7, 851996, 720896, 5, 917531, 655360, 7, 851995, 655360, 5, 1441810, 786432, 7)

[node name="Background" parent="." instance=ExtResource("2_dr1mk")]

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(320, 360)
enabled = false
zoom = Vector2(2, 2)
limit_bottom = 480
limit_smoothed = true
position_smoothing_enabled = true
drag_vertical_enabled = true

[node name="DustParticles" parent="Camera2D" instance=ExtResource("4_6h5e2")]
position = Vector2(-320, -360)

[node name="Player" parent="." instance=ExtResource("5_7wutl")]
position = Vector2(321, 397)

[node name="Decorations" parent="." instance=ExtResource("6_pgmhg")]
layer_0/tile_data = PackedInt32Array(1769484, 983040, 2, 1769499, 983040, 2, 1769485, 1179648, 1, 1769487, 1179648, 1, 1769488, 1114112, 1, 1769496, 1114112, 1, 1769500, 1114112, 0, 1769498, 1114112, 1, 1114125, 1048576, 0, 1114132, 1048576, 1, 1114133, 1114112, 0, 1114137, 1179648, 0, 1507344, 1245184, 0, 1572880, 1245184, 0, 1507343, 1245184, 0, 1638416, 1245184, 1, 1048591, 983040, 1, 1114127, 983040, 2, 1048600, 983040, 1, 1114136, 983040, 2, 983064, 983040, 0, 983055, 983040, 0, 1703948, 983040, 1, 1703963, 983040, 1, 1638412, 917504, 3, 1638427, 917504, 3, 1572879, 1245184, 1, 1507351, 1245184, 0, 1507353, 1245184, 0, 1572889, 1245184, 0, 1638425, 1245184, 1, 1572887, 1245184, 1)

[node name="Title" type="Label" parent="."]
offset_left = 135.0
offset_top = 300.0
offset_right = 519.0
offset_bottom = 387.0
theme_override_font_sizes/font_size = 24
text = "Rapid Weaver"
horizontal_alignment = 1

[node name="SettingsLabel" type="Label" parent="."]
offset_left = 194.0
offset_top = 350.0
offset_right = 338.0
offset_bottom = 381.0
theme_override_font_sizes/font_size = 8
text = "Settings"
horizontal_alignment = 1

[node name="QuitLabel" type="Label" parent="."]
offset_left = 321.0
offset_top = 351.0
offset_right = 465.0
offset_bottom = 382.0
theme_override_font_sizes/font_size = 8
text = "Quit"
horizontal_alignment = 1

[node name="GameStartArea" type="Area2D" parent="."]
collision_mask = 4
script = ExtResource("7_xgp62")

[node name="CollisionShape2D" type="CollisionShape2D" parent="GameStartArea"]
position = Vector2(321, 232)
shape = SubResource("RectangleShape2D_msvqj")

[node name="SectionLine" parent="GameStartArea" instance=ExtResource("7_grw8f")]

[node name="SettingsArea" type="Area2D" parent="."]
position = Vector2(248, 361)
collision_mask = 16
script = ExtResource("7_fkrux")

[node name="CollisionShape2D" type="CollisionShape2D" parent="SettingsArea"]
position = Vector2(16, -3)
shape = SubResource("RectangleShape2D_gxrhv")

[node name="Settings" parent="SettingsArea" instance=ExtResource("10_6vku2")]

[node name="QuitArea" type="Area2D" parent="."]
position = Vector2(382, 359)
collision_mask = 16
script = ExtResource("8_1losw")

[node name="CollisionShape2D" type="CollisionShape2D" parent="QuitArea"]
position = Vector2(10, -1)
shape = SubResource("RectangleShape2D_mcvy8")

[node name="PopupPanel" type="PopupPanel" parent="QuitArea"]
process_mode = 3
title = "Escape?"
initial_position = 2
size = Vector2i(148, 139)

[node name="MarginContainer" type="MarginContainer" parent="QuitArea/PopupPanel"]
offset_left = 4.0
offset_top = 4.0
offset_right = 144.0
offset_bottom = 135.0
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 16
theme_override_constants/margin_right = 16
theme_override_constants/margin_bottom = 16

[node name="VBoxContainer" type="VBoxContainer" parent="QuitArea/PopupPanel/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 32
alignment = 1

[node name="Label" type="Label" parent="QuitArea/PopupPanel/MarginContainer/VBoxContainer"]
layout_mode = 2
text = "Escape?"
horizontal_alignment = 1
vertical_alignment = 1

[node name="HBoxContainer" type="HBoxContainer" parent="QuitArea/PopupPanel/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 32
alignment = 1

[node name="Yes" type="Button" parent="QuitArea/PopupPanel/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "Yes"

[node name="No" type="Button" parent="QuitArea/PopupPanel/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "No"

[node name="Sections" type="Node2D" parent="."]

[node name="DeathArea" parent="." instance=ExtResource("10_5im2o")]
position = Vector2(0, 537)
collision_mask = 4

[node name="ScoreManager" parent="." instance=ExtResource("12_1t867")]

[node name="GameController" parent="." node_paths=PackedStringArray("camera", "death_area") instance=ExtResource("13_mxqul")]
camera = NodePath("../Camera2D")
enable_following_camera = true
death_area = NodePath("../DeathArea")
sections = Array[PackedScene]([ExtResource("14_bp0m6"), ExtResource("15_kdhey"), ExtResource("16_m2xuj"), ExtResource("17_4jwrd"), ExtResource("18_3pg6p"), ExtResource("19_1cbgp"), ExtResource("20_ei2g1"), ExtResource("21_2odth"), ExtResource("22_x2cpa"), ExtResource("23_w21sg"), ExtResource("24_rkorq"), ExtResource("25_l3ds6"), ExtResource("26_2ycy3"), ExtResource("27_krarm"), ExtResource("28_yshjn")])

[connection signal="body_exited" from="GameStartArea" to="GameStartArea" method="_on_body_exited"]
[connection signal="area_entered" from="SettingsArea" to="SettingsArea" method="_on_area_entered"]
[connection signal="popup_hide" from="SettingsArea/Settings" to="SettingsArea" method="_on_settings_popup_hide"]
[connection signal="area_entered" from="QuitArea" to="QuitArea" method="_on_area_entered"]
[connection signal="popup_hide" from="QuitArea/PopupPanel" to="QuitArea" method="_on_popup_panel_popup_hide"]
[connection signal="pressed" from="QuitArea/PopupPanel/MarginContainer/VBoxContainer/HBoxContainer/Yes" to="QuitArea" method="_on_yes_pressed"]
[connection signal="pressed" from="QuitArea/PopupPanel/MarginContainer/VBoxContainer/HBoxContainer/No" to="QuitArea" method="_on_no_pressed"]
